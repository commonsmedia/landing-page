$(function(){$(document).on("submit","form",function(e){function ajaxMailChimpForm($form,$resultElement){if(isValidEmail($form))$resultElement.html(""),$resultElement.removeClass("error"),submitSubscribeForm($form,$resultElement);else{$resultElement.addClass("error"),$resultElement.html("Please enter a valid email")}}function isValidEmail($form){var email=$form.find("input[type='email']").val();return!(!email||!email.length)&&-1!=email.indexOf("@")}function submitSubscribeForm($form,$resultElement){$(".subscribe-form").removeClass("submit").addClass("submitting"),$.ajax({type:"GET",url:"https://futurism.us8.list-manage.com/subscribe/post-json?u=aa1f459b1dc368b292f0587f2&amp;id=8e44b73d9e",data:$form.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(error){},success:function(data){if("success"!=data.result){var message=data.msg||"Something went wrong! Please refresh the page and try again.";$resultElement.addClass("error"),data.msg&&data.msg.indexOf("already subscribed")>=0&&(message="You're already subscribed! :)",$resultElement.removeClass("error")),$resultElement.html(message),$(".subscribe-form").removeClass("submitting").addClass("submit")}else $resultElement.removeClass("error"),$resultElement.html("Please confirm your email address!"),$form.find("span").text("Subscribed!").closest(".subscribe-form").removeClass("submitting").addClass("success")}})}e.preventDefault(),$(this).parent().hasClass("subscribe")?($(this).closest(".subscribe-form").removeClass("subscribe").addClass("submit"),$(this).find("input").focus()):$(this).parent().hasClass("submit")&&ajaxMailChimpForm($("form"),$(".result"))})});
//# sourceMappingURL=scripts.min.js.map